#side Ehren
#color F1F
#type Eater
#hardware
  constructor 1
  eater 1
  food-sensor 3
  robot-sensor 10
  processor 10
  engine .1
  energy 50 50
#code

#vector dest
#var delay 100

new-dest:
  0 world-width random 0 world-height random dest!
return


search-food:
  do
    10 periodic-food-sensor if
      food-found if
        food-position dest!
        seek-food& jump
      else
        position dest dist 1 < if
          new-dest& call
        then
      then
    then

    dest seek-location
  forever
return


eating:
do
  autoconstruct
  eaten nif
    0 constructor-rate!
    search-food& jump
  then

  dest seek-location
forever
return


seek-food:
  do
    eaten nif
      dest seek-location
    else
      eating& jump
    then
  forever
return

#start

new-dest& call

search-food& jump

#end
