#side Ehren
#color F1F
#type Eater
#hardware
  constructor 1
  eater 1
  food-sensor 8
  processor 10
  engine .1
  energy 100 100
#code

#vector dest
#vector origin
#vector food-at
#var delay 100

new-dest:
  0 world-width random 0 world-height random dest!
return


search-food:
  do
    40 periodic-food-sensor if
      food-found if
        food-position food-at!
        seek-food& jump
      then
    then

    dest seek-location
  forever
return


eating:
do
  autoconstruct
  eaten nif
    0 constructor-rate!
    go-home& jump
  then

  food-at seek-location
forever
return


seek-food:
  do
    eaten nif
      food-at seek-location
      position food-at dist .5 < if
        search-food& jump
      then
    else
      eating& jump
    then
  forever
return

go-home:
  do
    dest seek-location
    position dest dist 1 < if
      search-food& jump
    then
  forever
return

#start

#var x
#var y
id 10 / floor x!
id 10 mod y!


x 10 mod x!
y 10 mod y!

x 10 * x!
y 10 * y!

x 10 + x!

x y dest!

go-home& jump

#end
